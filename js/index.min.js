"use strict";class ElementsConstructor{constructor(){}create(a,b,...c){const d=document.createElement(a);return b&&(d.className=b),2<arguments.length&&c.forEach(a=>{for(let b in a)d.setAttribute(b,a[b])}),d}get(a){const b=document.querySelector(a);return b}getAll(a){const b=document.querySelectorAll(a);return b}setStyle(a,...b){2>arguments.length&&(a.style=""),b.forEach(b=>{for(let c in b)a.style[c]=b[c]})}}const photoGalleryData=[{id:0,alt:`street`,src:`img/galery-1.jpg`},{id:1,alt:`street2`,src:`img/galery-2.jpg`},{id:2,alt:`none`,src:`img/galery-3.jpg`},{id:3,alt:"zhk-4",src:`img/galery-4.jpg`},{id:4,alt:"zhk-5",src:`img/galery-5.jpg`}];class PhotoGallery{constructor(a,b){this.props={data:[...b],container:a,currentPhoto:0},this.renderGallery(),this.buttonsHandler(),this.imageClickHandler(),this.selectImageHandler()}renderGallery(){const{data:a,container:b,currentPhoto:c}=this.props,d=this.createElement("div","gallery__general-image"),e=this.createElement("img","gallery__photo");b.innerText="",d.append(e),b.append(d,this.renderPhotoList()),this.changeGeneralPhoto(c)}renderPhotoList(){const{data:a}=this.props,b=this.createElement("div","gallery__photo-list d-flex");return a.forEach(a=>{b.append(this.renderPhoto(a))}),b}renderPhoto(a){const b=this.createElement("img","gallery__photo-item");return b.setAttribute("alt",a.alt),b.setAttribute("src",a.src),b.setAttribute("data-image-min-id",a.id),b}changeGeneralPhoto(a){const{data:b}=this.props,c=document.querySelector(".gallery__photo");c.style.animation="fading-in .6s ease",setTimeout(()=>{this.clickGandler(!1),c.setAttribute("alt",b[a].alt),c.setAttribute("data-image-min-id",b[a].id),c.setAttribute("src",b[a].src),c.style.animation="fading-out .6s ease",setTimeout(()=>{c.style.animation="",this.clickGandler(!0)},600)},500)}clickGandler(a){const b=document.querySelector(".gallery__photos");b.style.pointerEvents=a?"auto":"none"}buttonsHandler(){const{data:a}=this.props,b=document.querySelector(".gallery__button_left"),c=document.querySelector(".gallery__button_right");b.addEventListener("click",()=>{this.props.currentPhoto-=1,0>this.props.currentPhoto&&(this.props.currentPhoto=a.length-1),this.changeGeneralPhoto(this.props.currentPhoto),this.selectImageHandler()}),c.addEventListener("click",()=>{this.props.currentPhoto+=1,this.props.currentPhoto>a.length-1&&(this.props.currentPhoto=0),this.changeGeneralPhoto(this.props.currentPhoto),this.selectImageHandler()})}imageClickHandler(){const{data:a}=this.props,b=document.querySelector(".gallery__photo-list");b.addEventListener("click",a=>{const{target:b}=a,{imageMinId:c}=b.dataset;"IMG"!==b.tagName||(this.props.currentPhoto=+c,this.changeGeneralPhoto(+c),this.selectImageHandler())})}selectImageHandler(){const{data:a,currentPhoto:b}=this.props,c=document.querySelectorAll(".gallery__photo-item");for(let a of c){const c=+a.dataset.imageMinId;a.style.transform=c===b?"translateY(-10px)":""}}createElement(a,b){const c=document.createElement(a),d=b.split(" ");return 1<=d.length&&d.forEach(a=>{c.classList.add(a)}),c}}const photoGalleryContainer=document.querySelector(".gallery__photos"),photoGallery=new PhotoGallery(photoGalleryContainer,photoGalleryData),currentDate=new Date,currentDay=currentDate.getDate(),currentMonth=currentDate.getMonth(),currentYear=currentDate.getFullYear();let targetDate=[currentDay,currentMonth+1,currentYear],targetUserDate=[];localStorage.getItem("userTime")||localStorage.setItem("userTime",JSON.stringify(targetDate)),targetUserDate=JSON.parse(localStorage.getItem("userTime"));const manageTimer=function(a){const b=new Date(a[2],a[1],a[0]);let c=new Date;const d=Math.floor((b-c)/1e3),e=Math.floor(d/60),f=Math.floor(e/60),g=Math.floor(f/24);return{secondsToshow:d%60,minutesToshow:e%60,hoursToshow:f%24,daysToshow:g}};function showTime(){const a=document.querySelectorAll(".timer__unit"),b=a[0],c=a[1],d=a[2],e=a[3],f=setInterval(()=>{const{secondsToshow:a,minutesToshow:g,hoursToshow:h,daysToshow:i}=manageTimer(targetUserDate);return 0>i?void clearInterval(f):void(b.innerText=10>i?`0${i}`:i,c.innerText=10>h?`0${h}`:h,d.innerText=10>g?`0${g}`:g,e.innerText=10>a?`0${a}`:a)},1e3)}showTime();const flatsData=[{flatId:0,flatData:[{image:{alt:"\u041E\u0434\u043D\u043E\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430",src:"img/one-room.png"},title:"\u041E\u0434\u043D\u043E\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430",subtitle:"48.22 \u043C<sup>2</sup>"},{image:{alt:"\u041E\u0434\u043D\u043E\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430",src:"img/one-room-1.png"},title:"\u041E\u0434\u043D\u043E\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430",subtitle:"41.81 \u043C<sup>2</sup>"}]},{flatId:1,flatData:[{image:{alt:"\u0414\u0432\u0443\u0445\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430",src:"img/two-rooms-1.png"},title:"\u0414\u0432\u0443\u0445\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430",subtitle:"61.36 \u043C<sup>2</sup>"},{image:{alt:"\u0414\u0432\u0443\u0445\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430",src:"img/two-rooms.png"},title:"\u0414\u0432\u0443\u0445\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430",subtitle:"76.46 \u043C<sup>2</sup>"}]},{flatId:2,flatData:[{image:{alt:"\u0441\u0442\u0443\u0434\u0438\u044F",src:"img/studio.png"},title:"\u0441\u0442\u0443\u0434\u0438\u044F",subtitle:"28.31 \u043C<sup>2</sup>"},{image:{alt:"\u0441\u0442\u0443\u0434\u0438\u044F",src:"img/studio-1.png"},title:"\u0441\u0442\u0443\u0434\u0438\u044F",subtitle:"35.26 \u043C<sup>2</sup>"}]}],dom=new ElementsConstructor;class RoomOptions{constructor(a,b){this.props={data:[...b],container:a,checkedFlatId:2,currentCard:0,screenWidth:""},this.firstScreenHandler(),this.renderCards(),this.changeCardsHandler()}renderCards(){const{container:a,data:b,checkedFlatId:c}=this.props,d=b[c].flatData,e=window.matchMedia("screen and (max-width: 1200px");e.addListener(()=>{e.matches?(a.innerText="",this.renderSlider()):(a.innerText="",d.forEach(b=>{a.append(this.renderCard(b))}))}),1200<this.props.screenWidth?(a.innerText="",d.forEach(b=>{a.append(this.renderCard(b))})):(a.innerText="",this.renderSlider()),this.showLagePhoto()}firstScreenHandler(){document.body.clientWidth;this.props.screenWidth=document.body.clientWidth;setTimeout(()=>{document.body.clientWidth},500)}renderSlider(){const{container:a,data:b,checkedFlatId:c,currentCard:d}=this.props,e=b[c].flatData,f=e[d],g=dom.create("div","flat-cards__card-wrapper"),h=dom.create("button","options__arr options__arr_left"),i=dom.create("button","options__arr options__arr_right");g.append(this.renderCard(f)),a.append(h,g,i),this.cardChangehandler(e)}cardChangehandler(a){const b=dom.get(".flat-cards__card").parentNode,c=dom.get(".options__arr_left"),d=dom.get(".options__arr_right");c.addEventListener("click",()=>{b.innerText="",this.props.currentCard-=1,0>this.props.currentCard&&(this.props.currentCard=a.length-1),b.append(this.renderCard(a[this.props.currentCard]))}),d.addEventListener("click",()=>{b.innerText="",this.props.currentCard+=1,this.props.currentCard>a.length-1&&(this.props.currentCard=0),b.append(this.renderCard(a[this.props.currentCard]))})}renderCard(a){const b=dom.create("div","flat-cards__card"),c=dom.create("img","flat-cards__image",a.image),d=dom.create("h3","flat-cards__title"),e=dom.create("p","flat-cards__info"),f=dom.create("form","flat-cards__form js-form",{"data-id":"popupResult",action:"success.php"}),g=dom.create("label"),h=dom.create("input","",{type:"text",name:"id-form",hidden:!0,value:a.title}),i=dom.create("input","flat-cards__get-number",{type:"text",name:"tel",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u043C\u0435\u0440",required:!0}),j=dom.create("button","flat-cards__button btn",{"data-submit":""});return d.innerText=a.title,e.innerHTML=a.subtitle,j.innerText="\u0423\u0437\u043D\u0430\u0442\u044C \u043F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",g.append(i),f.append(g,j,h),b.append(c,d,e,f),b}changeCardsHandler(){const a=dom.getAll(".flats-preview__item"),b=dom.get(".flats-preview__list");b.addEventListener("click",b=>{const{target:c}=b,{flatId:d}=c.dataset;if("LI"===c.tagName){for(let b of a)b.classList.contains("flats-preview__checked")&&b.classList.remove("flats-preview__checked");c.classList.add("flats-preview__checked"),this.props.checkedFlatId=+d,this.firstScreenHandler(),this.renderCards()}})}showLagePhoto(){const a=dom.get(".flat-cards__image"),b="options__large-image-wrapper";window.addEventListener("click",c=>{const{target:d}=c;if(d.className!==a.className)return void(dom.get(`.${b}`)&&dom.get(`.${b}`).remove());dom.get(`.${b}`)&&dom.get(`.${b}`).remove();const e={src:d.src,alt:d.alt};document.body.append(this.renderModalWindowPhoto(e,b))})}renderModalWindowPhoto(a,b){const c=dom.create("div",b),d=dom.create("img","layout-options__large-image",a);return c.append(d),c}}const roomCardsContainer=dom.get(".flats-preview__flat-cards"),roomCards=new RoomOptions(roomCardsContainer,flatsData);function isValideNumber(a){return!!a.match("^([+]+)*[0-9 ()-]{5,20}$")}class QuizRender{constructor(){}renderAnswer(a){const b=dom.create("label","quiz__label"),c=dom.create("span","quiz__span"),d=dom.create("input","quiz__input",{type:"radio",name:"quiz-answer","data-value":a});return c.innerText=a,b.append(d,c),b}renderAnswers(a){if(dom.get(".quiz__answers-list")){const b=dom.get(".quiz__answers-list");b.innerText="",a.forEach(a=>{b.append(this.renderAnswer(a))})}else{const b=dom.create("div","quiz__answers-list");return a.forEach(a=>{b.append(this.renderAnswer(a))}),b}}renderQuestion(a){if(dom.get(".quiz__question"))dom.get(".quiz__question").innerText=a;else{const b=dom.create("h3","quiz__question");return b.innerText=a,b}}renderButtons(){const a=dom.create("div","quiz__buttons-wrapper"),b=dom.create("button","quiz__buttons btn quiz__buttons_left"),c=dom.create("button","quiz__buttons btn quiz__buttons_right");return b.innerText="\u041D\u0430\u0437\u0430\u0434",c.innerText="\u0414\u0430\u043B\u0435\u0435",a.append(b,c),a}renderQuiz(a,b){b.innerText="";const{question:c,answers:d}=a,e=this.renderQuestion(c),f=this.renderAnswers(d),g=this.renderButtons();b.append(e,f,g)}renderQuizForm(a){const b=dom.create("form","quiz-form",{method:"POST",action:"test.php"}),c=dom.create("p","quiz-form__subtitle"),d=this.renderFormInput(),e=this.renderFormButtons();return c.innerText=a,b.append(c,d,e),b}renderFormInput(){const a=dom.create("label","quiz-form__label"),b=dom.create("input","quiz-form__input",{type:"tel",name:"quiz-form-number",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043E\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D"});return a.append(b),a}renderFormButtons(){const a=dom.create("div","quiz-form__buttons-wrapper"),b=dom.create("button","quiz__buttons quiz-form__prev-button  btn"),c=dom.create("input","quiz__buttons btn quiz-form__submit-button",{type:"submit",value:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C"});return b.innerText="\u041D\u0430\u0437\u0430\u0434",a.append(b,c),a}renderQuizThanks(a){a.innerText="";const b=dom.create("h3","quiz-thanks__title"),c=dom.create("p","quiz-thanks__text");b.innerText="\u0421\u043F\u0430\u0441\u0438\u0431\u043E, \u0447\u0442\u043E \u043F\u0440\u043E\u0448\u043B\u0438 \u0442\u0435\u0441\u0442!",c.innerText="\u041C\u044B \u0443\u0436\u0435 \u043D\u0430\u0447\u0430\u043B\u0438 \u0440\u0430\u0431\u043E\u0442\u0443 \u0438 \u043D\u0430 \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440 \u0441\u0432\u044F\u0436\u0435\u0442\u0441\u044F \u0441 \u0432\u0430\u043C\u0438 \u0432 \u0431\u043B\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043C\u044F",a.append(b,c)}renderNumber(a){if(dom.get(".quiz__number"))dom.get(".quiz__number").innerText=a;else{const b=dom.create("span","quiz__number");return b.innerText=a,b}}}class QuizHandler extends QuizRender{constructor(a){super(),this.data={questions:[],form:{},currentData:{},allData:[]},this.props={container:a,questionId:0}}startHandler(a){a.addEventListener("click",()=>{this.startQuiz()})}setQuestions(a){this.data.questions=[...a]}setForm(a){this.data.form={...a}}startQuiz(){const{container:a,questionId:b}=this.props,{questions:c}=this.data;super.renderQuiz(c[b],a),this.dataHandler(),this.changeQuestionsHandler(),a.append(super.renderNumber(b+1))}dataHandler(){const a=dom.getAll(".quiz__input"),b=dom.get(".quiz__question");for(let c of a)c.addEventListener("change",a=>{const{value:c}=a.target.dataset;this.data.currentData={question:b.textContent,answer:c}})}changeQuestionsHandler(){const a=dom.get(".quiz__buttons_left"),b=dom.get(".quiz__buttons_right");b.addEventListener("click",()=>{this.props.questionId++,this.props.questionId>this.data.questions.length-1?(this.data.allData.push(this.data.currentData),this.createQuizForm()):this.nextButtonHandler()}),a.addEventListener("click",()=>{this.props.questionId--,0>this.props.questionId?(this.props.questionId=0,this.data.allData.splice(0,1)):this.prevButtonHandler()})}nextButtonHandler(){const{questionId:a}=this.props,{questions:b,allData:c}=this.data,d=b[a];super.renderQuestion(d.question),super.renderAnswers(d.answers),super.renderNumber(a+1),c.push(this.data.currentData),this.dataHandler()}prevButtonHandler(){const{questionId:a}=this.props,{questions:b,allData:c}=this.data,d=b[a];super.renderQuestion(d.question),super.renderAnswers(d.answers),super.renderNumber(a+1),c.splice(c.length-1,1),this.dataHandler()}createQuizForm(){const{form:a,questions:b}=this.data,{container:c}=this.props;c.innerText="",c.append(super.renderQuestion(a.title)),c.append(super.renderQuizForm(a.subtitle)),c.append(super.renderNumber(this.props.questionId+1));const d=dom.get(".quiz-form__submit-button"),e=dom.get(".quiz-form__prev-button"),f=dom.get(".quiz-form__input");e.addEventListener("click",()=>{this.props.questionId=0,this.data.allData.splice(0,this.data.allData.length),this.startQuiz()}),d.addEventListener("click",a=>{isValideNumber(f.value)?this.sendQuizForm():(a.preventDefault(),this.errorMessage(f))})}errorMessage(a){const b=a.parentNode;if(!b.contains(dom.get(".quiz__error-message"))){const c=dom.create("span","quiz__error-message");c.innerText="\u041F\u043E\u043B\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F",b.insertBefore(c,a.nextSibling),setTimeout(()=>{dom.get(".quiz__error-message")&&dom.get(".quiz__error-message").remove()},3e3)}}sendQuizForm(){const{container:a}=this.props,b=dom.get(".quiz-form"),c=dom.get(".quiz-form__input").value,d=JSON.stringify(this.data.allData);b.addEventListener("submit",a=>{a.preventDefault()});const e=new XMLHttpRequest;e.addEventListener("load",()=>{console.log(e.response)});const f="quiz-form-number="+encodeURIComponent(c)+"&quiz-form-hidden-data="+encodeURIComponent(d);e.open("POST","test.php",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.send(f),setTimeout(()=>{super.renderQuizThanks(a)},100)}}const manageQuizData={questions:[{id:0,question:"\u0421 \u043A\u0430\u043A\u043E\u0439 \u0446\u0435\u043B\u044C\u044E \u0432\u044B \u043F\u043B\u0430\u043D\u0438\u0440\u0443\u0435\u0442\u0435 \u043F\u0440\u0438\u043E\u0431\u0440\u0435\u0441\u0442\u0438 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0443?",answers:["\u0414\u043B\u044F \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u0438\u044F","\u0414\u043B\u044F \u0438\u043D\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0439","\u0414\u0435\u0442\u044F\u043C (\u043D\u0430 \u0431\u0443\u0434\u0443\u0449\u0435\u0435)","\u041D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u043B\u0441\u044F"]},{id:1,question:"\u041A\u0430\u043A\u043E\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043A\u043E\u043C\u043D\u0430\u0442 \u0432\u0430\u043C \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E",answers:["1-\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F","2-\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F","3-\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F","\u0415\u0432\u0440\u043E 2-\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F","\u0415\u0432\u0440\u043E 3-\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F","\u0411\u043E\u043B\u044C\u0448\u0435 3\u0445 \u043A\u043E\u043C\u043D\u0430\u0442"]},{id:2,question:"\u041A\u0430\u043A\u0430\u044F \u0444\u043E\u0440\u043C\u0430 \u043E\u043F\u043B\u0430\u0442\u044B \u0432\u0430\u043C \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u043E\u0431\u043D\u0430?",answers:["\u0423\u0434\u0438\u043D\u043E\u0432\u0440\u0435\u043C\u0435\u043D\u043D\u0430\u044F \u043E\u043F\u043B\u0430\u0442\u0430","\u0420\u0430\u0441\u0441\u0440\u043E\u0447\u043A\u0430","\u0418\u043F\u043E\u0442\u0435\u043A\u0430","\u0421\u0443\u0431\u0441\u0438\u0434\u0438\u044F","\u041D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u043B\u0441\u044F"]},{id:3,question:"\u0412\u044B \u0445\u043E\u0442\u0435\u043B\u0438 \u0431\u044B \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0442\u044C \u0440\u0430\u0441\u0441\u0432\u0435\u0442 \u0438\u043B\u0438 \u043F\u0440\u043E\u0432\u043E\u0436\u0430\u0442\u044C \u0437\u0430\u043A\u0430\u0442?",answers:["\u0420\u0430\u0441\u0441\u0432\u0435\u0442","\u0417\u0430\u043A\u0430\u0442"]},{id:4,question:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043F \u043E\u0442\u0434\u0435\u043B\u043A\u0438?",answers:["\u0411\u0435\u0437 \u043E\u0442\u0434\u0435\u043B\u043A\u0438","\u041F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u043A\u0430 \u043F\u043E\u0434 \u043E\u0442\u0434\u0435\u043B\u043A\u0443","\u0427\u0438\u0441\u0442\u043E\u0432\u0430\u044F"]},{id:5,question:"\u041A\u043E\u0433\u0434\u0430 \u0432\u044B \u043F\u043B\u0430\u043D\u0438\u0440\u0443\u0435\u0442\u0435 \u043E\u0442\u0434\u0435\u043B\u043A\u0443?",answers:["\u0412 \u0431\u043B\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043C\u044F","\u0427\u0435\u0440\u0435\u0437 6-8 \u043C\u0435\u0441\u044F\u0446\u0435\u0432","\u041D\u0435 \u0440\u0430\u043D\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 \u0433\u043E\u0434","\u041D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u043B\u0441\u044F","\u0421\u0440\u0430\u0437\u0443, \u0435\u0441\u043B\u0438 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430 \u043F\u043E\u043D\u0440\u0430\u0432\u0438\u0442\u0441\u044F"]},{id:6,question:"\u041A\u0430\u043A\u0438\u0435 \u0434\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B \u0434\u043B\u044F \u0432\u0430\u0441 \u0432\u0430\u0436\u043D\u044B?",answers:["\u0413\u0430\u0440\u0434\u0435\u0440\u043E\u0431\u043D\u0430\u044F \u0438\u043B\u0438 \u043A\u043B\u0430\u0434\u043E\u0432\u0430\u044F","\u041A\u0443\u0445\u043D\u044F-\u0433\u043E\u0441\u0442\u0438\u043D\u0430\u044F","\u041F\u0440\u0430\u0447\u0435\u0447\u043D\u0430\u044F","\u0428\u0438\u0440\u043E\u043A\u0438\u0439 \u0431\u0430\u043B\u043A\u043E\u043D","\u041E\u0431\u0435\u0434\u0435\u043D\u043D\u0430\u044F \u0437\u043E\u043D\u0430","\u041D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u043B\u0441\u044F"]},{id:7,question:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u044B\u0432\u0430\u0435\u0442\u0435 \u043B\u0438 \u0432\u044B \u043D\u0430 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u043D\u044B\u0439 \u0446\u0435\u043D\u043E\u0432\u043E\u0439 \u0441\u0435\u0433\u043C\u0435\u043D\u0442?",answers:["\u0414\u043E 6 \u043C\u043B\u043D. \u0420","\u041E\u0442 7 \u043C\u043B\u043D. \u0420 \u0434\u043E 9 \u043C\u043B\u043D. \u0420","\u041E\u0442 9 \u043C\u043B\u043D. \u0420 \u0434\u043E 11 \u043C\u043B\u043D. \u0420","\u041D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u043B\u0441\u044F"]}],form:{id:8,title:"\u041E\u0442\u043B\u0438\u0447\u043D\u043E! \u041E\u0441\u0442\u0430\u043B\u0441\u044F \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439 \u0448\u0430\u0433!",subtitle:"\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 \u043D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430 \u0438 \u043C\u044B \u0441\u043E\u043E\u0431\u0449\u0438\u043C \u0432\u0430\u043C \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u0442\u0435\u0441\u0442\u0430."}},manageQuizContainer=dom.get(".manage__test"),manageQuiz=new QuizHandler(manageQuizContainer),manageButtonToStart=dom.get(".start-manage-quiz");manageQuiz.setQuestions(manageQuizData.questions),manageQuiz.setForm(manageQuizData.form),manageQuiz.startHandler(manageButtonToStart);const excursionQuizData={questions:[{id:0,question:"\u0420\u0430\u0431\u043E\u0442\u0430\u0435\u0442\u0435 \u043B\u0438 \u0432\u044B \u043E\u0444\u0438\u0446\u0438\u0430\u043B\u044C\u043D\u043E?",answers:["\u0414\u0430, \u0440\u0430\u0431\u043E\u0442\u0430\u044E \u043E\u0444\u0438\u0446\u0438\u0430\u043B\u044C\u043D\u043E \u0438 \u0431\u0435\u043B\u0430\u044F \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u0430","\u0414\u0430, \u043D\u043E \u0431\u043E\u043B\u044C\u0448\u0430\u044F \u0447\u0430\u0441\u0442\u044C \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u044B \u0441\u0435\u0440\u0430\u044F","\u0420\u0430\u0431\u043E\u0442\u0430\u044E, \u043D\u043E \u043D\u0435 \u043E\u0444\u0438\u0446\u0438\u0430\u043B\u044C\u043D\u043E","\u042F \u043C\u043E\u0440\u044F\u043A (\u0432\u043E\u0435\u043D\u043D\u044B\u0439)","\u041F\u0435\u043D\u0441\u0438\u043E\u043D\u0435\u0440","\u0423 \u043C\u0435\u043D\u044F \u0441\u0432\u043E\u044F \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F (\u044E\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u043B\u0438\u0446\u043E \u0438\u043B\u0438 \u0418\u041F)","\u041D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u044E"]},{id:1,question:"\u041A\u0430\u043A \u0434\u043E\u043B\u0433\u043E \u0432\u044B \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442\u0435 \u043D\u0430 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u043C \u043C\u0435\u0441\u0442\u0435?",answers:["\u041E\u0442 1 \u0433\u043E\u0434\u0430","\u041E\u0442 1 \u0433\u043E\u0434\u0430 \u0434\u043E 5 \u043B\u0435\u0442","\u0421\u0432\u044B\u0448\u0435 5 \u043B\u0435\u0442"]},{id:2,question:"\u041A\u0430\u043A\u043E\u0439 \u043F\u0435\u0440\u0432\u044B\u0439 \u0432\u0437\u043D\u043E\u0441 \u0432\u044B \u0445\u043E\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043B\u0430\u0442\u044C (\u0432 % \u043E\u0442 \u0441\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u0438 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u044B)",answers:["\u041E\u0442 0% \u0434\u043E 20%","\u041E\u0442 20% \u0434\u043E 50%","\u041E\u0442 50%"]},{id:3,question:"\u041D\u0430 \u043A\u0430\u043A\u043E\u0439 \u0441\u0440\u043E\u043A \u0432\u044B \u0445\u043E\u0442\u0435\u043B\u0438 \u0431\u044B \u0432\u0437\u044F\u0442\u044C \u0438\u043F\u043E\u0442\u0435\u043A\u0443?",answers:["\u0414\u043E 5 \u043B\u0435\u0442","5 - 10 \u043B\u0435\u0442","10 - 15 \u043B\u0435\u0442","\u041E\u0442 15 \u043B\u0435\u0442"]},{id:4,question:"\u041A\u0430\u043A\u043E\u0439 \u0435\u0436\u0435\u043C\u0435\u0441\u044F\u0447\u043D\u044B\u0439 \u043F\u043B\u0430\u0442\u0435\u0436 \u0431\u044B\u043B \u0431\u044B \u0432\u0430\u043C \u043A\u043E\u043C\u0444\u043E\u0440\u0442\u0435\u043D?",answers:["\u0414\u043E 40 000\u0440","\u041E\u0442 40 000\u0440 \u0434\u043E 50 000\u0440","\u041E\u0442 50 000\u0440"]}],form:{id:5,title:"\u041E\u0442\u043B\u0438\u0447\u043D\u043E! \u041E\u0441\u0442\u0430\u043B\u0441\u044F \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439 \u0448\u0430\u0433!",subtitle:"\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 \u043D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430 \u0438 \u043C\u044B \u0441\u043E\u043E\u0431\u0449\u0438\u043C \u0432\u0430\u043C \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u0442\u0435\u0441\u0442\u0430."}},excursionQuizContainer=dom.get(".excursion__test"),excursionQuiz=new QuizHandler(excursionQuizContainer),excursionButtonToStart=dom.get(".start-esxursion-test");excursionQuiz.setQuestions(excursionQuizData.questions),excursionQuiz.setForm(excursionQuizData.form),excursionQuiz.startHandler(excursionButtonToStart);class ModalWindow{constructor(){this.props={container:"",target:"",className:""},window.addEventListener("click",this.modalHandler())}setProps(a,b,c){this.props.container=a,this.props.target=b,2<arguments.length&&(this.props.className=c.className)}modalHandler(){return a=>{const{target:b}=a,c=this.props.container.className.split(" ");b.className===this.props.target.className?this.props.className?this.props.container.classList.toggle(this.props.className):this.props.container.style.display="flex":!b.closest(`.${c[0]}`)&&!this.props.className&&(this.props.container.style.display="none",b===this.props.target&&(this.props.container.style.display="none"))}}}const headerForm=new ModalWindow;headerForm.setProps(dom.get(".header__form"),dom.get(".header__callback"));const conditionsForm=new ModalWindow;conditionsForm.setProps(dom.get(".conditions__form"),dom.get(".conditions__btn"));const getDemoForm=new ModalWindow;getDemoForm.setProps(dom.get(".get-demo__form"),dom.get(".get-demo__button"));const mobileMenu=new ModalWindow;mobileMenu.setProps(dom.get(".menu"),dom.get(".mobile-menu"),{className:"menu__open"});const offerWindowData=[`Пользователь из Дубровки только что забронировал квартиру`,`Пользователь из Низино только что забронировал квартиру`,`Пользователь из Санкт-Петербурга только что забронировал квартиру`,`Пользователь из Санкт-Петербурга только что записался на просмотр квартиры`];function randomInteger(a,b){var c=a-.5+Math.random()*(b-a+1);return c=Math.round(c),c}function offerWindow(a,b){const c=dom.create("div","offer-window"),d=dom.create("div","offer-window__message"),e=dom.create("div","offer-window__image"),f=dom.create("div","offer-window__cancel-button");return f.innerText="\xD7",d.innerText=a[b],c.append(e,d,f),f.addEventListener("click",()=>{c.remove()}),c}window.onload=function(){setTimeout(()=>{const a=randomInteger(0,offerWindowData.length-1);document.body.append(offerWindow(offerWindowData,a))},3e4),setInterval(()=>{if(!dom.get(".offer-window")){const a=randomInteger(0,offerWindowData.length-1);document.body.append(offerWindow(offerWindowData,a))}},3e5)};